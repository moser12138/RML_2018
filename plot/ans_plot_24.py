import numpy as np
import matplotlib.pyplot as plt
import matplotlib
import matplotlib.font_manager as fm

# 设置字体路径（根据你系统中文和英文字体的路径来）
times_path = "/home/ll/.fonts/TimesNewRoman/Times New Roman.ttf"  # 或 Windows: "C:/Windows/Fonts/times.ttf"

times_font = fm.FontProperties(fname=times_path)    # 英文 Times New Roman

# 分类结果数据
snr_values = [-20, -18, -16, -14, -12, -10, -8, -6, -4, -2, 0, 2, 4, 6, 8, 10]

modulation_data = {
    "(a)": {
        "OOK": [0.00, 2.80, 1.60, 5.60, 14.00, 26.80, 46.40, 60.40, 83.60, 93.60, 99.20, 100.00, 100.00, 100.00, 100.00, 100.00],
        "4ASK":	[0.40, 0.80, 0.80, 0.80, 1.20, 2.80, 16.40, 36.00, 64.40, 69.60, 76.80, 84.00, 90.40, 98.40, 98.40, 100.00],
        "8ASK": [2.00, 1.60, 2.80, 4.40, 19.20, 20.40, 30.00, 33.60, 49.20, 58.80, 79.60, 86.40, 93.60, 98.80, 98.80, 98.80],
        "AM-SSB-WC": [1.20, 3.20, 3.20, 2.40, 2.80, 1.60, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 0.00, 37.20],
        "AM-SSB-SC": [8.00, 7.20, 12.80, 19.60, 38.80, 52.40, 73.20, 90.40, 99.60, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 92.40],
        "AM-DSB-WC": [14.00, 11.60, 17.20, 14.80, 22.40, 48.80, 84.40, 94.00, 87.60, 65.60, 74.80, 86.40, 93.20, 96.40, 98.00, 95.20],
        "AM-DSB-SC": [1.20, 1.60, 0.80, 1.20, 2.80, 6.80, 5.60, 5.20, 15.60, 52.80, 71.20, 78.80, 86.80, 85.60, 87.20, 78.40]},
# OOK:	0.00%	2.80%	1.60%	5.60%	14.00%	26.80%	46.40%	60.40%	83.60%	93.60%	99.20%	100.00%	100.00%	100.00%	100.00%	100.00%
# 4ASK:	0.40%	0.80%	0.80%	0.80%	1.20%	2.80%	16.40%	36.00%	64.40%	69.60%	76.80%	84.00%	90.40%	98.40%	98.40%	100.00%
# 8ASK:	2.00%	1.60%	2.80%	4.40%	19.20%	20.40%	30.00%	33.60%	49.20%	58.80%	79.60%	86.40%	93.60%	98.80%	98.80%	98.80%
# AM-SSB-WC:	1.20%	3.20%	3.20%	2.40%	2.80%	1.60%	0.00%	0.00%	0.00%	0.00%	0.00%	0.00%	0.00%	0.00%	0.00%	37.20%
# AM-SSB-SC:	8.00%	7.20%	12.80%	19.60%	38.80%	52.40%	73.20%	90.40%	99.60%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	92.40%
# AM-DSB-WC:	14.00%	11.60%	17.20%	14.80%	22.40%	48.80%	84.40%	94.00%	87.60%	65.60%	74.80%	86.40%	93.20%	96.40%	98.00%	95.20%
# AM-DSB-SC:	1.20%	1.60%	0.80%	1.20%	2.80%	6.80%	5.60%	5.20%	15.60%	52.80%	71.20%	78.80%	86.80%	85.60%	87.20%	78.40%

    "(b)": {"BPSK": [8.40, 8.00, 7.20, 5.60, 9.60, 13.60, 17.60, 44.40, 89.60, 100.00, 100.00, 100.00, 100.00, 100.00,100.00, 100.00],
            "QPSK": [5.60, 2.40, 4.00, 2.80, 4.40, 4.00, 4.80, 6.80, 26.80, 44.40, 93.20, 100.00, 100.00, 100.00,100.00, 100.00],
            "8PSK": [2.80, 1.20, 0.80, 0.00, 2.40, 1.60, 2.40, 2.00, 13.20, 21.20, 44.00, 78.80, 98.40, 100.00, 100.00, 100.00],
            "16PSK": [1.60, 0.40, 0.40, 0.40, 0.80, 0.00, 2.00, 0.40, 0.00, 14.40, 50.80, 34.40, 47.60, 85.20, 99.20, 100.00],
            "32PSK": [0.00, 0.00, 0.00, 0.00, 0.40, 0.80, 0.00, 0.00, 2.80, 7.20, 6.80, 46.00, 60.80, 80.40, 92.40, 93.60],
            "16APSK": [0.40, 1.60, 1.60, 1.60, 1.60, 1.60, 2.00, 0.40, 5.20, 26.80, 64.40, 84.40, 100.00, 100.00, 100.00, 100.00],
            "32APSK": [2.40, 1.20, 2.00, 2.80, 2.80, 4.80, 14.80, 22.80, 16.00, 45.60, 66.40, 72.00, 96.00, 99.60, 100.00, 100.00],
            "64APSK": [8.80, 11.20, 9.60, 4.80, 6.40, 4.00, 2.40, 0.80, 0.40, 1.20, 3.20, 14.40, 51.60, 77.20, 92.40, 95.20],
            "128APSK": [1.20, 0.80, 0.40, 0.80, 1.20, 1.20, 0.40, 2.00, 4.00, 12.40, 19.60, 28.40, 44.80, 75.60, 91.20, 84.80]},

# BPSK:	8.40%	8.00%	7.20%	5.60%	9.60%	13.60%	17.60%	44.40%	89.60%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%
# QPSK:	5.60%	2.40%	4.00%	2.80%	4.40%	4.00%	4.80%	6.80%	26.80%	44.40%	93.20%	100.00%	100.00%	100.00%	100.00%	100.00%
# 8PSK:	2.80%	1.20%	0.80%	0.00%	2.40%	1.60%	2.40%	2.00%	13.20%	21.20%	44.00%	78.80%	98.40%	100.00%	100.00%	100.00%
# 16PSK:	1.60%	0.40%	0.40%	0.40%	0.80%	0.00%	2.00%	0.40%	0.00%	14.40%	50.80%	34.40%	47.60%	85.20%	99.20%	100.00%
# 32PSK:	0.00%	0.00%	0.00%	0.00%	0.40%	0.80%	0.00%	0.00%	2.80%	7.20%	6.80%	46.00%	60.80%	80.40%	92.40%	93.60%
# 16APSK:	0.40%	1.60%	1.60%	1.60%	1.60%	1.60%	2.00%	0.40%	5.20%	26.80%	64.40%	84.40%	100.00%	100.00%	100.00%	100.00%
# 32APSK:	2.40%	1.20%	2.00%	2.80%	2.80%	4.80%	14.80%	22.80%	16.00%	45.60%	66.40%	72.00%	96.00%	99.60%	100.00%	100.00%
# 64APSK:	8.80%	11.20%	9.60%	4.80%	6.40%	4.00%	2.40%	0.80%	0.40%	1.20%	3.20%	14.40%	51.60%	77.20%	92.40%	95.20%
# 128APSK:	1.20%	0.80%	0.40%	0.80%	1.20%	1.20%	0.40%	2.00%	4.00%	12.40%	19.60%	28.40%	44.80%	75.60%	91.20%	84.80%
    "(c)": {"16QAM": [0.40, 0.40, 0.40, 0.00, 0.40, 0.40, 0.00, 0.40, 6.00, 18.40, 24.00, 45.20, 84.80, 99.20, 100.00, 100.00],
            "32QAM": [4.00, 2.40, 2.40, 2.80, 4.40, 2.80, 8.00, 5.20, 3.60, 6.80, 21.60, 45.20, 61.60, 84.00, 95.60, 98.00],
            "64QAM": [0.00, 0.00, 0.00, 0.40, 0.00, 0.00, 0.00, 0.40, 0.40, 0.00, 1.20, 7.60, 36.80, 47.20, 59.60, 65.60],
            "128QAM": [0.00, 0.00, 0.40, 0.40, 0.40, 0.40, 0.40, 1.20, 6.00, 3.20, 4.80, 12.40, 24.80, 47.20, 60.00, 68.40],
            "256QAM": [0.40, 0.40, 0.80, 0.40, 1.20, 2.80, 1.20, 12.80, 29.60, 23.20, 23.60, 40.40, 38.40, 38.80, 41.20, 46.00]},
# 16QAM:	0.40%	0.40%	0.40%	0.00%	0.40%	0.40%	0.00%	0.40%	6.00%	18.40%	24.00%	45.20%	84.80%	99.20%	100.00%	100.00%
# 32QAM:	4.00%	2.40%	2.40%	2.80%	4.40%	2.80%	8.00%	5.20%	3.60%	6.80%	21.60%	45.20%	61.60%	84.00%	95.60%	98.00%
# 64QAM:	0.00%	0.00%	0.00%	0.40%	0.00%	0.00%	0.00%	0.40%	0.40%	0.00%	1.20%	7.60%	36.80%	47.20%	59.60%	65.60%
# 128QAM:	0.00%	0.00%	0.40%	0.40%	0.40%	0.40%	0.40%	1.20%	6.00%	3.20%	4.80%	12.40%	24.80%	47.20%	60.00%	68.40%
# 256QAM:	0.40%	0.40%	0.80%	0.40%	1.20%	2.80%	1.20%	12.80%	29.60%	23.20%	23.60%	40.40%	38.40%	38.80%	41.20%	46.00%

    "(d)": {
        "FM": [24.00, 18.40, 24.80, 27.60, 40.80, 64.00, 87.20, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00],
        "GMSK": [21.60, 24.00, 27.20, 24.80, 25.20, 29.20, 30.40, 29.60, 76.40, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00, 100.00],
        "OQPSK": [0.80, 0.80, 0.80, 1.20, 1.20, 2.40, 10.80, 28.40, 30.40, 58.80, 95.60, 100.00, 100.00, 100.00, 100.00, 100.00]}
# FM:	24.00%	18.40%	24.80%	27.60%	40.80%	64.00%	87.20%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%
# GMSK:	21.60%	24.00%	27.20%	24.80%	25.20%	29.20%	30.40%	29.60%	76.40%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%	100.00%
# OQPSK:	0.80%	0.80%	0.80%	1.20%	1.20%	2.40%	10.80%	28.40%	30.40%	58.80%	95.60%	100.00%	100.00%	100.00%	100.00%	100.00%
}

# 画图
fig, axes = plt.subplots(2, 2, figsize=(10, 8))
axes = axes.flatten()
categories = ["(a)", "(b)", "(c)", "(d)"]

for i, category in enumerate(categories):
    ax = axes[i]
    for mod_type, acc in modulation_data[category].items():
        ax.plot(snr_values, acc, label=mod_type, marker='o')
    ax.set_title(f"{category} ", fontproperties=times_font, fontsize=18, y=-0.26)
    ax.set_xlabel("SNR (dB)", fontsize=14, fontproperties=times_font)
    ax.set_ylabel("Acc (%)", fontsize=14, fontproperties=times_font)
    ax.legend(prop=times_font, fontsize=12)
    ax.grid(True)

    # 设置每个子图的坐标轴刻度数字字体为 Times New Roman
    for tick in ax.get_xticklabels() + ax.get_yticklabels():
        tick.set_fontproperties(times_font)
        tick.set_fontsize(12)

# 保存图像到文件
plt.tight_layout()
plt.savefig('24_ans', dpi=900)
# 显示图像
plt.show()
